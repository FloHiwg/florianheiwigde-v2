{{ $gtmContainerID := .Site.Params.gtmContainerID | default "" }}
{{ if $gtmContainerID }}
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id={{ $gtmContainerID }}" height="0" width="0"
    style="display:none;visibility:hidden"></iframe></noscript>
{{ end }}
<header class="header">
  <div class="container header-inner">
    <a href="{{ "/" | relURL }}" class="logo">
      <svg class="logo-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <polyline points="4 17 10 11 4 5"></polyline>
        <line x1="12" y1="19" x2="20" y2="19"></line>
      </svg>
      <span class="logo-text">
        <span class="logo-muted">~/</span>florian<span class="logo-cursor">_</span>
      </span>
    </a>

    <!-- Desktop Navigation -->
    <nav class="nav-desktop">
      <a href="{{ "/" | relURL }}" class="nav-link{{ if .IsHome }} active{{ end }}">Home</a>
      {{ with .Site.GetPage "/resume" }}
      <a href="{{ .RelPermalink }}" class="nav-link{{ if eq $.RelPermalink .RelPermalink }} active{{ end }}">Resume</a>
      {{ end }}
      {{ with .Site.GetPage "/services" }}
      <a href="{{ .RelPermalink }}" class="nav-link{{ if eq $.RelPermalink .RelPermalink }} active{{ end }}">Services</a>
      {{ end }}
      <a href="{{ "blog/" | relURL }}" class="nav-link{{ if eq .CurrentSection.Type " blog" }} active{{ end
        }}">Blog</a>
      <button class="theme-toggle" aria-label="Toggle theme">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
          stroke-linecap="round" stroke-linejoin="round">
          <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
        </svg>
      </button>
    </nav>

    <!-- Mobile Navigation Controls -->
    <div class="nav-mobile-controls">
      <button class="theme-toggle" aria-label="Toggle theme">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
          stroke-linecap="round" stroke-linejoin="round">
          <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
        </svg>
      </button>
      <button class="menu-toggle" aria-label="Toggle menu">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
          stroke-linecap="round" stroke-linejoin="round">
          <line x1="3" y1="12" x2="21" y2="12"></line>
          <line x1="3" y1="6" x2="21" y2="6"></line>
          <line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
      </button>
    </div>
  </div>

  <!-- Mobile Navigation Menu -->
  <nav class="nav-mobile">
    <div class="nav-mobile-inner">
      <a href="{{ "/" | relURL }}" class="nav-mobile-link{{ if .IsHome }} active{{ end }}">Home</a>
      {{ with .Site.GetPage "/resume" }}
      <a href="{{ .RelPermalink }}"
        class="nav-mobile-link{{ if eq $.RelPermalink .RelPermalink }} active{{ end }}">Resume</a>
      {{ end }}
      {{ with .Site.GetPage "/services" }}
      <a href="{{ .RelPermalink }}"
        class="nav-mobile-link{{ if eq $.RelPermalink .RelPermalink }} active{{ end }}">Services</a>
      {{ end }}
      <a href="{{ "blog/" | relURL }}" class="nav-mobile-link{{ if eq .CurrentSection.Type " blog" }} active{{ end
        }}">Blog</a>
    </div>
  </nav>
</header>
